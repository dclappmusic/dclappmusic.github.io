{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/views/Clapp.vue?4e27","webpack:///./src/components/GetGeolocation.vue?c908","webpack:///src/components/GetGeolocation.vue","webpack:///./src/components/GetGeolocation.vue?4729","webpack:///./src/components/GetGeolocation.vue","webpack:///src/views/Clapp.vue","webpack:///./src/views/Clapp.vue?8bbf","webpack:///./src/views/Clapp.vue?9036","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./src/views/Clapp.vue?90c6","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","$export","$find","KEY","forced","Array","P","F","find","this","arguments","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","findLocation","on","geolocationError","$event","$router","go","_v","_s","clapps","directives","name","rawName","value","expression","arg","clapp_animacion","clapp_step","params","from","sub_page","id","band_closest","image","showFar_closest","band","_e","staticRenderFns","component","speciesConstructor","original","isObject","isArray","SPECIES","C","constructor","prototype"],"mappings":"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","file":"js/chunk-57d2a4b8.9c7b8789.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page clapp\"},[_c('get-geolocation',{attrs:{\"findLocation\":_vm.findLocation},on:{\"geolocationError\":_vm.geolocationError}}),_c('svg',{staticClass:\"back\",attrs:{\"width\":\"26\",\"height\":\"24\",\"viewBox\":\"0 0 26 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('path',{attrs:{\"d\":\"M0.939341 10.9393C0.353554 11.5251 0.353554 12.4749 0.939341 13.0607L10.4853 22.6066C11.0711 23.1924 12.0208 23.1924 12.6066 22.6066C13.1924 22.0208 13.1924 21.0711 12.6066 20.4853L4.12132 12L12.6066 3.51472C13.1924 2.92893 13.1924 1.97919 12.6066 1.3934C12.0208 0.807611 11.0711 0.807611 10.4853 1.3934L0.939341 10.9393ZM26 10.5L2 10.5V13.5L26 13.5V10.5Z\",\"fill\":\"white\"}})]),(_vm.show_founded)?_c('div',{staticClass:\"band close\"},[_c('p',{staticClass:\"parrafo clapps\"},[_vm._v(_vm._s(_vm.clapps))]),_c('p',{directives:[{name:\"touch\",rawName:\"v-touch:start\",value:(_vm.startHandler),expression:\"startHandler\",arg:\"start\"},{name:\"touch\",rawName:\"v-touch:end\",value:(_vm.endHandler),expression:\"endHandler\",arg:\"end\"},{name:\"touch\",rawName:\"v-touch\",value:(_vm.touchHandler),expression:\"touchHandler\"},{name:\"touch\",rawName:\"v-touch:longtap\",value:(_vm.longtapHandler),expression:\"longtapHandler\",arg:\"longtap\"}],staticClass:\"titulo tap\"},[_vm._v(\"\\n           \"+_vm._s(_vm.clapp_animacion[_vm.clapp_step])+\"\\n        \")]),_c('router-link',{attrs:{\"to\":{ name: \"sub\", params: {from: \"clapp\", sub_page: \"sub_profile_band\", id: _vm.band_closest.id }}}},[_c('p',{staticClass:\"titulo name\"},[_vm._v(\"\\n                \"+_vm._s(_vm.band_closest.name)+\"\\n            \")])]),_c('div',{staticClass:\"background\"},[_c('span',{staticClass:\"overlay\"}),_c('img',{staticClass:\"image_band\",attrs:{\"src\":_vm.band_closest.image}})])],1):(_vm.showFar_closest)?_c('div',{staticClass:\"band far\"},[_c('p',{staticClass:\"titulo tap\"},[_vm._v(\"\\n            no shows cerca.\\n            el más cercano es \\n        \")]),_c('p',{staticClass:\"titulo name\"},[_vm._v(\"\\n            \"+_vm._s(_vm.showFar_closest.band)+\"\\n        \")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div></div>\n</template>\n\n<script>\nexport default {\n    name: 'GetGeolocation',\n    components: {\n    },\n    props: ['findLocation'],\n    data() {\n        return {\n            geolocation: {\n                lat: null,\n                lon: null\n            },\n        }\n    },\n    watch: {\n        geolocation: function() {\n            this.$store.commit(\"updateGeolocation\", this.geolocation);\n        },\n        findLocation() {\n            this.get_geolocation();\n        }\n    },\n    created() {\n        this.get_geolocation(); \n    },\n    mounted() {\n    },\n    methods: {\n    //geolocation functions\n        get_geolocation: function() {\n            if (localStorage.getItem('coords')){\n                this.geolocation = JSON.parse(localStorage.getItem('coords'));\n                console.log(this.geolocation);\n            }\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(\n                    this.browserGeolocationSuccess,\n                    this.browserGeolocationFail,\n                    {maximumAge: 20000, timeout: 10000, enableHighAccuracy: false}\n                );\n            } else {\n                console.log(\"Navigator geolocation unavailable.\");\n                this.$emit(\"geolocationError\",  \"No se puede acceder a la ubicación en tu móvil :'(\");\n            }\n        },\n        browserGeolocationSuccess: function(position) {\n            this.geolocation.lat = position.coords.latitude;\n            this.geolocation.lon = position.coords.longitude;\n            console.log(\"Browser geolocation success!\\n\\nlat = \" + position.coords.latitude + \"\\nlng = \" + position.coords.longitude);\n            localStorage.setItem('coords', JSON.stringify(this.geolocation));\n            this.$store.commit(\"updateGeolocation\", this.geolocation);\n        },\n        browserGeolocationFail: function(error) {\n            switch (error.code) {\n                case error.TIMEOUT:\n                    console.log(\"Browser geolocation error !\\n\\nTimeout.\");\n                    this.$emit(\"geolocationError\",  \"Hay problemas con el acceso a tu ubicación\");\n                break;\n                case error.PERMISSION_DENIED:\n                    if(error.message.indexOf(\"Only secure origins are allowed\") == 0) {\n                        this.tryAPIGeolocation();\n                    } else {\n                        console.log(\"Permison denied\");\n                        this.$emit(\"geolocationError\",  \"No nos has dado permiso de acceder a tu ubicación\");\n                    }\n                break;\n                case error.POSITION_UNAVAILABLE:\n                    console.log(\"Browser geolocation error !\\n\\nPosition unavailable.\");\n                    this.$emit(\"geolocationError\",  \"Browser geolocation error !\\n\\nPosition unavailable\");\n                break;\n            }\n        },\n        tryAPIGeolocation: function() {\n            jQuery.post( \"https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyDCa1LUe1vOczX1hO_iGYgyo8p_jYuGOPU\", function(success) {\n                this.apiGeolocationSuccess({coords: {latitude: success.location.lat, longitude: success.location.lng}});\n            })\n            .fail(function(err) {\n                console.log(\"API Geolocation error! \\n\\n\"+err);\n                this.$emit(\"geolocationError\",  \"API Geolocation error! \\n\\n\"+err);\n            });\n        },\n\n        apiGeolocationSuccess: function(position) {\n            this.geolocation.lat = position.coords.latitude;\n            this.geolocation.lon = position.coords.longitude;\n            console.log(\"API geolocation success!\\n\\nlat = \" + latitud + \"\\nlng = \" + longitud);\n            localStorage.setItem('coords', JSON.stringify(this.geolocation));\n            this.$store.commit(\"updateGeolocation\", this.geolocation);\n        },\n    }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetGeolocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetGeolocation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GetGeolocation.vue?vue&type=template&id=5e38996a&\"\nimport script from \"./GetGeolocation.vue?vue&type=script&lang=js&\"\nexport * from \"./GetGeolocation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"page clapp\">\n        <get-geolocation @geolocationError=\"geolocationError\" :findLocation=\"findLocation\"/>\n        <svg @click=\"$router.go(-1)\" class=\"back\" width=\"26\" height=\"24\" viewBox=\"0 0 26 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M0.939341 10.9393C0.353554 11.5251 0.353554 12.4749 0.939341 13.0607L10.4853 22.6066C11.0711 23.1924 12.0208 23.1924 12.6066 22.6066C13.1924 22.0208 13.1924 21.0711 12.6066 20.4853L4.12132 12L12.6066 3.51472C13.1924 2.92893 13.1924 1.97919 12.6066 1.3934C12.0208 0.807611 11.0711 0.807611 10.4853 1.3934L0.939341 10.9393ZM26 10.5L2 10.5V13.5L26 13.5V10.5Z\" fill=\"white\"/>\n        </svg>\n\n        <div v-if=\"show_founded\" class=\"band close\">\n            <p class=\"parrafo clapps\">{{clapps}}</p>\n            <!-- <p class=\"titulo animation\">\n                {{clapp_animacion[clapp_step]}}\n            </p> -->\n            <p class=\"titulo tap\" \n                v-touch:start=\"startHandler\" \n                v-touch:end=\"endHandler\"\n                v-touch=\"touchHandler\"\n                v-touch:longtap=\"longtapHandler\"\n            >\n               {{clapp_animacion[clapp_step]}}\n            </p>\n            <router-link :to='{ name: \"sub\", params: {from: \"clapp\", sub_page: \"sub_profile_band\", id: band_closest.id }}'>\n                <p class=\"titulo name\">\n                    {{band_closest.name}}\n                </p>\n            </router-link>\n            <div class=\"background\">\n                <span class=\"overlay\"></span>\n                <img class=\"image_band\" :src=\"band_closest.image\" />\n            </div>\n        </div>\n        <div v-else-if=\"showFar_closest\" class=\"band far\">\n            <p class=\"titulo tap\">\n                no shows cerca.\n                el más cercano es \n            </p>\n            <p class=\"titulo name\">\n                {{showFar_closest.band}}\n            </p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport firebase from \"firebase\"\nimport GetGeolocation from '@/components/GetGeolocation'\nexport default {\n\tname: 'Clapp',\n    components: {\n        GetGeolocation\n    },\n    computed: {\n        ...mapState([\n            \"geolocation\", \"shows\", \"bands\"\n        ]),\n    },\n\tdata() {\n\t\treturn{\n            user_id: 11111,\n            distance_max: 0.013,\n            distance: null,\n            show_closest: null,\n            band_closest: null,\n            shows_close: [],\n            shows_far: [],\n            showFar_closest: null,\n            show_founded: false,\n            shows_active: [],\n            clapp_time: 0,\n            clapp_taps: 0,\n            clapp_start: null,\n            clapps: 0,\n            clapp_animacion: [\n                \"tap to clapp\", \"beh\", \"guay\", \"la ostia\", \"wooooooooow\"\n            ],\n            clapp_step: 0,\n            clapp_step_init: 0,\n            interval: null,\n            upload_timer: null,\n            findLocation: false\n        }\n\t},\n    watch: {\n        clapp_time() {\n            console.log(this.clapp_time);\n            const clapp_value =  Math.round(this.clapp_time/100);\n            clapp_value < 1 ? this.clapp_taps++ : this.clapps += clapp_value;\n        },\n        clapp_taps() {\n            this.clapps++;\n        },\n        geolocation() {\n            this.filter_shows_today();\n            this.arrangeShows();\n        },\n        clapps() {\n            if (this.clapps > 10) {\n                if (this.clapps > 20) {\n                    this.clapp_step_init = 2;\n                } else {\n                    this.clapp_step_init = 1;\n                }\n            } else {this.clapp_step_init = 0;}\n        },\n        shows() {\n            this.filter_shows_today();\n            this.arrangeShows();\n        }\n    },\n\tcreated() {\n        if (this.geolocation && this.shows) {\n            this.filter_shows_today();\n            this.arrangeShows();\n        } else {\n            // let waiting = setInterval(() => {\n            //     this.clapp_step < 3 ? this.clapp_step++ : '';\n            // }, 1000);\n        }\n    },\n\tmounted() {\n    },\n\tmethods: {\n        filter_shows_today: function() {\n            console.log('filtering');\n            const hoy = this.$moment();\n            this.shows.forEach(show => {\n                const show_time = this.$moment(show.timestamp);\n                const diff = show_time.diff(hoy, 'hours');\n                if (diff > -1 && diff < 1 ) {\n                    this.shows_active.push(show);\n                }\n            });\n        },\n        arrangeShows() {\n            console.log('arranging shows');\n            this.shows_active.forEach((Ishow_activo) => {\n                Ishow_activo.position = {lat: Ishow_activo.lat, lon: Ishow_activo.lon};\n                if (this.isCerca(Ishow_activo.position, this.geolocation)) {\n                    this.show_founded = true;\n                    Ishow_activo.distance = this.distance;\n                    this.shows_close.push(Ishow_activo);\n                } else {\n                    Ishow_activo.distance = this.distance;\n                    this.shows_far.push(Ishow_activo);\n                }\n            });\n            this.shows_close.sort((a, b) => a.distance - b.distance);\n            this.shows_far.sort((a, b) => a.distance - b.distance);\n\n            this.show_closest = this.shows_close[0];\n            this.showFar_closest = this.shows_far[0];\n\n            if (this.show_closest) {\n                this.band_closest = this.getBand(this.show_closest.band_id);\n            }\n        },\n        isCerca: function(posicion1, posicion2) {\n            this.distance = Math.pow((Math.pow(posicion1.lat - posicion2.lat, 2) + Math.pow(posicion1.lon - posicion2.lon,2)), 0.5);\n            return this.distance <= this.distance_max;\n        },\n        getBand(band_id) {\n            console.log('get band');\n            return this.bands.find(band => band.id === band_id);\n        },\n        // clapp() {\n        //     this.clapps++;\n        // },\n        touchHandler(e) {\n            // const touch = this.$moment(e.timeStamp).millisecond();\n            console.log('touch');\n            // this.clapps += 1;\n        },\n        startHandler(e) {\n            clearInterval(this.upload_timer);\n            this.clapp_step = this.clapp_step_init;\n            this.interval = setInterval(() => {\n                this.clapp_step < 3 ? this.clapp_step++ : '';\n            }, 500);\n\n            const empieza = this.$moment(e.timeStamp).millisecond();\n            console.log('start: ' + empieza);\n            this.clapp_start = empieza;\n            \n        },\n        endHandler(e) {\n            clearInterval(this.interval);\n            setTimeout(() => {this.clapp_step = 0;}, 1000);\n\n            const termina = this.$moment(e.timeStamp);\n            console.log('end:' + termina.millisecond());\n            this.clapp_time = termina.subtract(this.clapp_start, 'milliseconds').millisecond();\n\n            this.upload_timer = setTimeout(() => {\n                this.uploadClapps();\n            }, 3000);\n        },\n        longtapHandler(e) {\n            console.log(e);\n        },\n        uploadClapps() {\n            let doc_name = this.user_id + '-' + this.show_closest.band_id + '-' + this.clapps;\n            let clapp_ob = {\n                band_id: this.band_closest.id,\n                show_id: this.show_closest.show_id,\n                user_id: this.user_id,\n                clapp_time: this.clapp_time,\n                clapp_taps: this.clapp_taps,\n                timestamp: new Date()\n            }\n            firebase.firestore().collection(\"clapps\").doc(doc_name).set(clapp_ob).then(() => {\n                console.log(\"clapp uploaded\");\n                this.postclapp('band_profile')\n            })\n        },\n        postclapp(type) {\n            if (type === 'band_profile') {\n                this.$router.push({ name: \"sub\", params: {from: \"postclapp\", sub_page: \"sub_profile_band\", id: this.band_closest.id }});\n            }\n        },\n        geolocationError(error) {\n            alert(error);\n        }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n.clapp {\n    position: relative;\n    width: 100vw;\n    height: 100vh;\n    background: var(--color_primario);\n    z-index: -1;\n    // background-blend-mode: screen;\n    .band {\n        width: 100%;\n        height: 100%;\n        .animation {\n            position: absolute;\n            top: 20vh;\n            width: 100%;\n            font-size: 15vw;\n            text-align: center;\n            color: var(--color_secundario);\n            transition: all .5s ease-in-out;\n        }\n        .clapps {\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            color: var(--color_secundario);\n        }\n        .name {\n            position: absolute;\n            width: 100%;\n            bottom: 20vh;\n            font-size: 15vw;\n            color: var(--color_secundario);\n            text-align: center;\n            line-height: 85%;\n        }\n        .tap {\n            position: absolute;\n            top: 40vh;\n            width: 100%;\n            color: white;\n            font-weight: 500;\n            font-size: 35px;\n            line-height: 26px;\n            text-align: center;\n        }\n        .background {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: -1;\n            .image_band {\n                width: 100%;\n                height: 100%;\n                object-fit: cover;\n            } \n            .overlay {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: var(--color_primario);\n                mix-blend-mode: screen;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clapp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clapp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clapp.vue?vue&type=template&id=451b3c58&scoped=true&\"\nimport script from \"./Clapp.vue?vue&type=script&lang=js&\"\nexport * from \"./Clapp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Clapp.vue?vue&type=style&index=0&id=451b3c58&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"451b3c58\",\n  null\n  \n)\n\nexport default component.exports","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clapp.vue?vue&type=style&index=0&id=451b3c58&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clapp.vue?vue&type=style&index=0&id=451b3c58&scoped=true&lang=scss&\"","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}